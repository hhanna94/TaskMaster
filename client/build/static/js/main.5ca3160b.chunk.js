(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,s){},40:function(e,t,s){},65:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(32),l=s.n(n),i=(s(39),s(13)),r=s(2),o=(s(40),s(3)),d=s.n(o),j=s(4),m=s(5),b=s(0),u=function(e){var t=Object(j.f)(),s=e.toggleUpdate,a=e.setToggleUpdate,c=e.setLoggedInUser,n=e.loggedInUser;return Object(b.jsxs)("div",{className:"container d-flex justify-content-between align-items-center",children:[Object(b.jsx)("h1",{className:"align-self-end",children:"TaskMaster"}),Object(b.jsxs)("ul",{className:"nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(m.b,{className:"nav-link",to:"/home",children:"All Tasks"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(m.b,{className:"nav-link",to:"/tasks/new",children:"Create Task"})}),n.admin?Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(m.b,{className:"nav-link",to:"/admin",children:"Admin"})}):"",n._id?Object(b.jsx)("button",{onClick:function(){d.a.get("http://localhost:8000/api/users/logout",{withCredentials:!0}).then((function(e){a(!s),c({}),t.push("/")})).catch((function(e){return console.log(e)}))},className:"ms-4 red-button align-self-center",children:"Logout"}):Object(b.jsx)(m.b,{to:"/",className:"ms-4 button blue-button align-self-center",children:"Login"})]})]})},h=s(12),O=s(7),x=s.p+"static/media/Z-A.a5761f6f.svg",p=s.p+"static/media/A-Z.bf0629e2.svg",f=s.p+"static/media/UpDown.160842ca.svg",g=function(e){var t=Object(a.useState)([]),s=Object(r.a)(t,2),c=s[0],n=s[1],l=e.filteredTasks,o=e.toggleReload,j=e.setToggleReload,u=Object(a.useState)(1),h=Object(r.a)(u,2),g=h[0],N=h[1],v=Object(a.useState)(5),y=Object(r.a)(v,2),w=y[0],k=y[1],C=Object(a.useState)({column:"priority",direction:!0}),S=Object(r.a)(C,2),D=S[0],T=S[1];function U(){var e=Math.ceil(l.length/w);return e>0?e:1}Object(a.useEffect)((function(){P(g)}),[w,o,D]);var P=function(e){var t=document.getElementById("_next"),s=document.getElementById("_prev"),a=document.getElementById("page");e<1?e=1:e>U()&&(e=U());var c=(e-1)*w,r=c+w,o=function(){var e=D.column,t=D.direction,s=document.getElementById("priorityImg"),a=document.getElementById("statusImg");return"status"===e?s.src=f:a.src=f,t?("status"===e?a.src=p:s.src=p,Object(i.a)(l).sort((function(t,s){return t[e]>s[e]?1:-1}))):("status"===e?a.src=x:s.src=x,Object(i.a)(l).sort((function(t,s){return t[e]<s[e]?1:-1})))}().slice(c,r);n(o),a.innerHTML=e,s.style.visibility=1===e?"hidden":"visible",e===U()?t.style.visibility="hidden":t.style.visibility="visible",N(e)};return Object(b.jsxs)("div",{className:"container mt-5",children:[Object(b.jsxs)("p",{className:"me-4 mb-1 text-end",children:[Object(b.jsx)("strong",{children:"Total Tasks:"})," ",l.length]}),Object(b.jsxs)("table",{className:"table table-bordered border-dark text-center align-middle",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{className:"col-3",children:"Task Name "}),Object(b.jsx)("th",{className:"col-1",children:"Due Date"}),Object(b.jsxs)("th",{className:"col-2",children:["Priority ",Object(b.jsx)("img",{id:"priorityImg",className:"ms-2",onClick:function(e){T({column:"priority",direction:!D.direction})},style:{width:"1em",height:"1em"},src:p})]}),Object(b.jsxs)("th",{className:"col-2",children:["Status ",Object(b.jsx)("img",{id:"statusImg",className:"ms-2",onClick:function(e){T({column:"status",direction:!D.direction})},style:{width:"1em",height:"1em"},src:f})]}),Object(b.jsx)("th",{className:"col-2",children:"Assigned To"}),Object(b.jsx)("th",{className:"col-2",colSpan:"2",children:"Actions"})]})}),Object(b.jsxs)("tbody",{children:[c.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(m.b,{to:"/tasks/".concat(e._id),children:e.taskName})}),Object(b.jsx)("td",{children:new Date(e.dueDate).toLocaleDateString("en-US",{timeZone:"UTC"})}),Object(b.jsx)("td",{children:e.priority}),Object(b.jsx)("td",{children:e.status}),Object(b.jsxs)("td",{children:[e.assignTo.firstName," ",e.assignTo.lastName]}),Object(b.jsx)("td",{className:"col-1",children:Object(b.jsx)(m.b,{className:"button blue-button px-4 py-1",to:"/tasks/".concat(e._id,"/edit"),children:"Edit"})}),Object(b.jsx)("td",{children:"Completed"!==e.status?Object(b.jsx)("button",{onClick:function(t){!function(e){var t=Object(O.a)(Object(O.a)({},e),{},{status:"Completed"});d.a.put("http://localhost:8000/api/tasks/".concat(e._id),t).then((function(e){return j(!o)})).catch((function(e){return console.log(e)}))}(e)},className:"red-button",children:"Complete"}):Object(b.jsx)("button",{className:"button btn-secondary",disabled:!0,children:"Complete"})})]},t)})),!c.length>0?Object(b.jsx)("tr",{children:Object(b.jsx)("td",{colSpan:"6",children:"No results found, trying changing your filters."})}):Object(b.jsx)("tr",{style:{display:"none"}})]}),Object(b.jsx)("tfoot",{})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(b.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[Object(b.jsx)("button",{onClick:function(){g>1&&P(g-1)},id:"_prev",className:" red-button",children:"Previous"}),Object(b.jsxs)("label",{children:["Current Page: ",Object(b.jsx)("span",{id:"page"})]}),Object(b.jsx)("button",{id:"_next",onClick:function(){g<U()&&P(g+1)},className:" blue-button",children:"Next"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"me-3",children:"Rows per Page: "}),Object(b.jsx)("select",{onChange:function(e){k(parseInt(e.target.value))},name:"taskPerPageSelect",id:"taskPerPageSelect",className:"py-0",children:[5,10,25,50].map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))})]})]})]})},N=function(e){var t=(new Date).toLocaleDateString("en-CA",{timeZone:"EST"}),s=e.users,c=e.status,n=e.priorities,l=e.loggedInUser,i=Object(a.useState)([]),o=Object(r.a)(i,2),j=o[0],m=o[1],u=Object(a.useState)(!1),x=Object(r.a)(u,2),p=x[0],f=x[1],N=Object(a.useState)(!1),v=Object(r.a)(N,2),y=v[0],w=v[1],k=Object(a.useState)({assignTo:l._id,priority:"All",dueDate:t,status:"In Progress"}),C=Object(r.a)(k,2),S=C[0],D=C[1];Object(a.useEffect)((function(){w(!1),d.a.get("http://localhost:8000/api/tasks/".concat(S.priority,"/").concat(S.dueDate,"/").concat(S.status,"/").concat(S.assignTo)).then((function(e){m(e.data),w(!0)})).catch((function(e){return console.log(e)}))}),[S,p]);var T=function(e){D(Object(O.a)(Object(O.a)({},S),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h3",{className:"text-center fw-bold",children:"All Tasks"}),Object(b.jsxs)("div",{className:"container w-75",children:[Object(b.jsx)("h5",{children:"Filters:"}),Object(b.jsxs)("div",{className:"ps-5 d-flex flex-wrap justify-content-between align-items-start",children:[Object(b.jsxs)("div",{className:"d-flex align-items-center col-6",children:[Object(b.jsx)("label",{className:"me-2 col-3",htmlFor:"assignTo",children:"Assign To: "}),Object(b.jsxs)("select",{onChange:T,className:"form-select py-0 w-50",name:"assignTo",id:"assignTo",value:S.assignTo,children:[Object(b.jsx)("option",{value:"All",children:"All"}),s.map((function(e,t){return Object(b.jsxs)("option",{value:e._id,children:[e.firstName," ",e.lastName]},t)}))]})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center col-6",children:[Object(b.jsx)("label",{className:"me-2 col-2",htmlFor:"priority",children:"Priority: "}),Object(b.jsxs)("select",{onChange:T,className:"form-select py-0 w-50",name:"priority",id:"priority",value:S.priority,children:[Object(b.jsx)("option",{value:"All",children:"All"}),n.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center col-6 mt-3",children:[Object(b.jsx)("label",{className:"me-2 col-3",htmlFor:"dueDate",children:"Due Date:"}),Object(b.jsx)("input",{onChange:T,className:"form-control py-0 w-50",type:"date",name:"dueDate",id:"dueDate",value:S.dueDate})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center col-6 mt-3",children:[Object(b.jsx)("label",{className:"me-2 col-2",htmlFor:"status",children:"Status: "}),Object(b.jsxs)("select",{onChange:T,className:"form-select py-0 w-50",name:"status",id:"status",value:S.status,children:[c.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)})),Object(b.jsx)("option",{value:"All",children:"All"})]})]})]})]}),y&&Object(b.jsx)(g,{toggleReload:p,setToggleReload:f,filteredTasks:j})]})},v=function(e){var t=e.departments,s=e.toggleUpdate,c=e.setToggleUpdate,n={firstName:"",lastName:"",department:"",email:" ",password:"",confirmPassword:"",admin:!1},l=Object(a.useState)(n),o=Object(r.a)(l,2),j=o[0],m=o[1],u=Object(a.useState)(!1),f=Object(r.a)(u,2),g=f[0],N=f[1],v=Object(a.useState)({}),y=Object(r.a)(v,2),w=y[0],k=y[1],C=Object(a.useState)([]),S=Object(r.a)(C,2),D=S[0],T=S[1],U=Object(a.useState)(!1),P=Object(r.a)(U,2),E=P[0],F=P[1],I=Object(a.useState)("create"),A=Object(r.a)(I,2),_=A[0],L=A[1],B=Object(a.useState)(!0),R=Object(r.a)(B,2),M=R[0],Z=R[1],H=function(e){var t;t="checkbox"===e.target.type?!j.admin:e.target.value,m(Object(O.a)(Object(O.a)({},j),{},Object(h.a)({},e.target.name,t)))},J=function(){if("create"===_){var e={};return D.forEach((function(t){e[t.email]=1})),e}}();return Object(a.useEffect)((function(){d.a.get("http://localhost:8000/api/users").then((function(e){T(e.data),F(!0)})).catch((function(e){return console.log(e)}))}),[g]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h3",{className:"mb-2",children:"Admin"}),Object(b.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{className:"text-center",children:"Users"}),Object(b.jsxs)("table",{style:{minWidth:"30vw"},className:"mt-4 table table-striped table-bordered border-dark text-center align-middle",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"col-4",children:"Name"}),Object(b.jsxs)("td",{className:"col-4",children:["Department ",Object(b.jsx)("img",{id:"departmentImg",className:"ms-2",onClick:function(e){Z(!M)},style:{width:"1em",height:"1em"},src:p})]}),Object(b.jsx)("td",{className:"col-4",colSpan:"2",children:"Actions"})]})}),Object(b.jsx)("tbody",{children:E&&function(){var e=document.getElementById("departmentImg");return M?(e.src=p,Object(i.a)(D).sort((function(e,t){return e.department>t.department?1:-1}))):(e.src=x,Object(i.a)(D).sort((function(e,t){return e.department<t.department?1:-1})))}().map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(b.jsx)("td",{children:e.department}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{onClick:function(){!function(e){L("edit"),m(e),k({})}(e)},className:"button blue-button",children:"Edit"})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{className:"button red-button",onClick:function(){var t;t=e._id,d.a.delete("http://localhost:8000/api/users/".concat(t)).then((function(e){return N(!g)})).catch((function(e){return console.log(e)}))},children:"Delete"})})]},t)}))})]})]}),Object(b.jsxs)("div",{style:{width:"22vw"},children:["create"===_?Object(b.jsx)("h4",{className:"text-center",children:"Create a User"}):Object(b.jsx)("h4",{className:"text-center",children:"Edit User"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"create"===_?d.a.post("http://localhost:8000/api/users",j).then((function(e){console.log(e),e.data.userExists?k(e.data):(k({}),m(n),N(!g))})).catch((function(e){k(e.response.data.errors)})):d.a.put("http://localhost:8000/api/users/".concat(j._id),j).then((function(e){k({}),m(n),N(!g),L("create")})).catch((function(e){k(e.response.data.errors)})),c(!s)},className:"mt-4",children:[Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"firstName",className:"col-5 col-form-label",children:"First Name: "}),Object(b.jsx)("input",{onChange:H,type:"text",className:"form-control",id:"firstName",name:"firstName",value:j.firstName})]}),w.firstName?Object(b.jsxs)("p",{className:"text-danger",children:["*",w.firstName.message," "]}):"",Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"lastName",className:"col-5 col-form-label",children:"Last Name: "}),Object(b.jsx)("input",{onChange:H,type:"text",className:"form-control",id:"lastName",name:"lastName",value:j.lastName})]}),w.lastName?Object(b.jsxs)("p",{className:"text-danger",children:["*",w.lastName.message," "]}):"",Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"department",className:"col-5 col-form-label",children:"Department: "}),Object(b.jsxs)("select",{onChange:H,name:"department",className:"form-select",value:j.department,children:[Object(b.jsx)("option",{value:"",children:"---"}),t.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})]}),w.department?Object(b.jsxs)("p",{className:"text-danger",children:["*",w.department.message," "]}):"",Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"email",className:"col-5 col-form-label",children:"Email: "}),Object(b.jsx)("input",{onChange:H,type:"email",name:"email",id:"email",className:"form-control",value:j.email})]}),w.email?Object(b.jsxs)("p",{className:"text-danger",children:["*",w.email.message," "]}):"","create"===_&&J[j.email]?Object(b.jsx)("p",{className:"text-danger",children:"*Email is already in use. "}):"",w.userExists?Object(b.jsxs)("p",{className:"text-danger",children:["*",w.userExists," "]}):"","create"===_?Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"password",className:"col-5 col-form-label",children:"Password: "}),Object(b.jsx)("input",{onChange:H,type:"password",name:"password",id:"password",className:"form-control",value:j.password})]}):"",w.password?Object(b.jsxs)("p",{className:"text-danger",children:["*",w.password.message," "]}):"","create"===_?Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"confirmPassword",className:"col-5 col-form-label",children:"Confirm Password: "}),Object(b.jsx)("input",{onChange:H,type:"password",name:"confirmPassword",id:"confirmPassword",className:"form-control",value:j.confirmPassword})]}):"","create"===_&&j.password!==j.confirmPassword&&j.confirmPassword.length>0?Object(b.jsx)("p",{className:"text-danger",children:"*Passwords must match."}):"",Object(b.jsxs)("div",{className:"formDiv justify-content-between",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"admin",className:"col-form-label me-2",children:"Admin?"}),Object(b.jsx)("input",{onChange:H,type:"checkbox",name:"admin",id:"admin",checked:j.admin})]}),"create"===_?Object(b.jsx)("input",{className:"button blue-button",type:"submit",value:"Create User"}):Object(b.jsx)("input",{className:"button blue-button",type:"submit",value:"Edit User"})]})]})]})]})]})},y=function(e){var t=Object(a.useState)({email:"",password:""}),s=Object(r.a)(t,2),c=s[0],n=s[1],l=Object(a.useState)({}),i=Object(r.a)(l,2),o=i[0],u=i[1],x=Object(j.f)(),p=e.toggleUpdate,f=e.setToggleUpdate,g=function(e){n(Object(O.a)(Object(O.a)({},c),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{className:"container w-50",children:[Object(b.jsx)("h3",{children:"Login"}),o.invalidAttempt?Object(b.jsx)("p",{className:"text-danger text-center",children:o.invalidAttempt}):"",Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.a.post("http://localhost:8000/api/login",c,{withCredentials:!0}).then((function(e){"success!"===e.data.msg?(f(!p),x.push("/home")):u(e.data)})).catch((function(e){return console.log(e)}))},className:"mt-4 container w-25",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-3",children:[Object(b.jsx)("label",{htmlFor:"email",className:"col-sm-5 col-form-label",children:"Email: "}),Object(b.jsx)("input",{onChange:g,type:"text",className:"form-control col-sm-7",id:"email",name:"email",value:c.email})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-3 align-items-center",children:[Object(b.jsx)("label",{htmlFor:"password",className:"col-sm-5 col-form-label",children:"Password: "}),Object(b.jsx)("input",{onChange:g,type:"password",className:"form-control col-sm-7",id:"password",name:"password",value:c.password})]}),Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("input",{className:"button blue-button",type:"submit",value:"Login"})})]}),Object(b.jsxs)("div",{className:"mt-5",children:[Object(b.jsxs)("p",{children:['Thank you so much for taking the time to view my project! This web app does require you to log in to proceed. To get to the "secret" register page, click ',Object(b.jsx)(m.b,{to:"/secretlyRegister",children:"here"}),"!"]}),Object(b.jsx)("p",{children:"There are admin features, so to see the differences feel free to make both a normal user and an admin account."})]})]})},w=function(e){var t=e.onSubmitProp,s=e.errors,c=e.defaultTask,n=e.parent,l=e.users,i=e.status,o=e.priorities,d=e.loggedInUser,j=Object(a.useState)(c),m=Object(r.a)(j,2),u=m[0],x=m[1],p=function(e){x(Object(O.a)(Object(O.a)({},u),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(b.jsx)("div",{className:"container w-25",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s=u.history,a=new Date,c="".concat(d.firstName," ").concat(d.lastName);s.push({description:u.description,time:a,editor:c}),t(u)},className:"mt-4 container",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-3 ",children:[Object(b.jsx)("label",{htmlFor:"taskName",className:"col-4 col-form-label",children:"Task Name: "}),Object(b.jsx)("input",{onChange:p,type:"text",className:"form-control",id:"taskName",name:"taskName",value:u.taskName})]}),s.taskName?Object(b.jsxs)("p",{className:"text-danger",children:["*",s.taskName.message]}):"",Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-3 align-items-center",children:[Object(b.jsx)("label",{htmlFor:"description",className:"col-sm-4 col-form-label",children:"Comment: "}),Object(b.jsx)("textarea",{onChange:p,name:"description",id:"description",className:"form-control",value:u.description})]}),s.description?Object(b.jsxs)("p",{className:"text-danger",children:["*",s.description.message]}):"",Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-3",children:[Object(b.jsx)("label",{htmlFor:"dueDate",className:"col-sm-4 col-form-label",children:"Due Date: "}),Object(b.jsx)("input",{onChange:p,type:"date",className:"form-control",id:"dueDate",name:"dueDate",value:new Date(u.dueDate).toLocaleDateString("en-CA",{timeZone:"UTC"})})]}),s.dueDate?Object(b.jsxs)("p",{className:"text-danger",children:["*",s.dueDate.message]}):"",Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-3",children:[Object(b.jsx)("label",{htmlFor:"priority",className:"col-sm-4 col-form-label",children:"Priority: "}),Object(b.jsxs)("select",{onChange:p,name:"priority",id:"priority",className:"form-select",value:u.priority,children:[Object(b.jsx)("option",{value:"",children:"---"}),o.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})]}),s.priority?Object(b.jsxs)("p",{className:"text-danger",children:["*",s.priority.message]}):"",Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-3",children:[Object(b.jsx)("label",{htmlFor:"assignTo",className:"col-sm-4 col-form-label",children:"Assign To: "}),Object(b.jsxs)("select",{onChange:p,name:"assignTo",id:"assignTo",className:"form-select",value:u.assignTo._id,children:[Object(b.jsx)("option",{value:"",children:"---"}),l.map((function(e,t){return Object(b.jsxs)("option",{value:e._id,children:[e.firstName," ",e.lastName]},t)}))]})]}),s.assignTo?Object(b.jsx)("p",{className:"text-danger",children:"*Must choose a user to assign the task to."}):"","edit"===n?Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-3",children:[Object(b.jsx)("label",{htmlFor:"status",className:"col-sm-4 col-form-label",children:"Status: "}),Object(b.jsx)("select",{onChange:p,name:"status",id:"status",className:"form-select",value:u.status,children:i.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))})]}):"",Object(b.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(b.jsx)("input",{className:"button blue-button",type:"submit",value:"edit"===n?"Edit Task":"Create Task"})})]})})},k=function(e){var t=(new Date).toLocaleDateString("en-CA",{timeZone:"EST"}),s=e.loggedInUser,c=e.users,n=e.status,l=e.priorities,i=Object(a.useState)({}),o=Object(r.a)(i,2),m=o[0],u=o[1],h=Object(j.f)(),O={taskName:"",description:"",dueDate:t,priority:"",assignTo:"",createdBy:s._id,status:"In Progress",history:[]};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Create a New Task"}),Object(b.jsx)(w,{loggedInUser:s,priorities:l,status:n,users:c,onSubmitProp:function(e){d.a.post("http://localhost:8000/api/tasks",e).then((function(e){return h.goBack()})).catch((function(e){return u(e.response.data.errors)}))},errors:m,defaultTask:O,parent:"create"})]})},C=function(e){var t=Object(j.g)().id,s=e.users,c=e.status,n=e.priorities,l=e.loggedInUser,i=Object(a.useState)(!1),o=Object(r.a)(i,2),m=o[0],u=o[1],h=Object(a.useState)({}),O=Object(r.a)(h,2),x=O[0],p=O[1],f=Object(j.f)(),g=Object(a.useState)({}),N=Object(r.a)(g,2),v=N[0],y=N[1];Object(a.useEffect)((function(){d.a.get("http://localhost:8000/api/tasks/".concat(t)).then((function(e){y(e.data[0]),u(!0)})).catch((function(e){return console.log(e)}))}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Edit Task"}),m&&Object(b.jsx)(w,{loggedInUser:l,priorities:n,status:c,users:s,onSubmitProp:function(e){d.a.put("http://localhost:8000/api/tasks/".concat(t),e).then((function(e){return f.goBack()})).catch((function(e){return p(e.response.data.errors)}))},errors:x,defaultTask:v,parent:"edit"})]})},S=function(e){var t=e.task;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"d-flex justify-content-between gap-3",children:[Object(b.jsxs)("div",{className:"mt-3 w-50 border-end pe-3",children:[Object(b.jsx)("h3",{children:"Task Details"}),Object(b.jsxs)("div",{className:"d-flex align-items-center mt-4",children:[Object(b.jsx)("p",{className:"col-3",children:Object(b.jsx)("strong",{children:"Title: "})}),Object(b.jsx)("p",{children:t.taskName})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("p",{className:"col-3",children:Object(b.jsx)("strong",{children:"Assigned To: "})}),Object(b.jsxs)("p",{className:"",children:[t.assignTo.firstName," ",t.assignTo.lastName]})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("p",{className:"col-3",children:Object(b.jsx)("strong",{children:"Due Date: "})}),Object(b.jsx)("p",{className:"",children:new Date(t.dueDate).toLocaleDateString("en-US",{timeZone:"UTC"})})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("p",{className:"col-3",children:Object(b.jsx)("strong",{children:"Priority: "})}),Object(b.jsx)("p",{className:"",children:t.priority})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("p",{className:"col-3",children:Object(b.jsx)("strong",{children:"Status: "})}),Object(b.jsx)("p",{className:"",children:t.status})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("p",{className:"col-3",children:Object(b.jsx)("strong",{children:"Comment: "})}),Object(b.jsx)("p",{className:"col-9",children:t.description})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("p",{className:"col-3",children:Object(b.jsx)("strong",{children:"Created By: "})}),Object(b.jsxs)("p",{className:"",children:[t.createdBy.firstName," ",t.createdBy.lastName]})]})]}),Object(b.jsxs)("div",{className:"mt-3 w-50 ps-3",children:[Object(b.jsx)("h3",{children:"Comment History"}),Object(b.jsx)("div",{className:"mt-4",children:t.history.length>0?t.history.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"mb-0 fw-bold",children:[new Date(e.time).toLocaleDateString("en-US")," ",new Date(e.time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),Object(b.jsxs)("p",{className:"ps-4 mt-0",children:[e.description," - ",e.editor]})]},t)})):Object(b.jsx)("p",{children:"No history available."})})]})]}),Object(b.jsx)(m.b,{to:"/tasks/".concat(t._id,"/edit"),className:"blue-button button",children:"Edit"})]})},D=function(){var e=Object(j.g)().id,t=Object(a.useState)({}),s=Object(r.a)(t,2),c=s[0],n=s[1],l=Object(a.useState)(!1),i=Object(r.a)(l,2),o=i[0],m=i[1];return Object(a.useEffect)((function(){d.a.get("http://localhost:8000/api/tasks/".concat(e)).then((function(e){n(e.data[0]),m(!0)})).catch((function(e){return console.log(e)}))}),[]),Object(b.jsx)("div",{className:"container w-50",children:o&&Object(b.jsx)(S,{task:c})})},T=function(e){var t=Object(j.f)(),s=e.departments,c=Object(a.useState)({firstName:"",lastName:"",department:"",email:" ",password:"",confirmPassword:"",admin:!1}),n=Object(r.a)(c,2),l=n[0],i=n[1],o=Object(a.useState)({}),m=Object(r.a)(o,2),u=m[0],x=m[1],p=Object(a.useState)([]),f=Object(r.a)(p,2),g=f[0],N=f[1],v=Object(a.useState)(!1),y=Object(r.a)(v,2),w=y[0],k=y[1],C=function(e){var t;t="checkbox"===e.target.type?!l.admin:e.target.value,i(Object(O.a)(Object(O.a)({},l),{},Object(h.a)({},e.target.name,t)))},S=function(){var e={};return g.forEach((function(t){e[t.email]=1})),e}();return Object(a.useEffect)((function(){d.a.get("http://localhost:8000/api/users").then((function(e){N(e.data),k(!0)})).catch((function(e){return console.log(e)}))}),[]),Object(b.jsx)("div",{className:"container w-25",children:w&&Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{className:"text-center",children:"Register a User"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.a.post("http://localhost:8000/api/users",l).then((function(e){console.log(e),e.data.userExists?x(e.data):t.push("/")})).catch((function(e){x(e.response.data.errors)}))},className:"mt-4",children:[Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"firstName",className:"col-5 col-form-label",children:"First Name: "}),Object(b.jsx)("input",{onChange:C,type:"text",className:"form-control",id:"firstName",name:"firstName",value:l.firstName})]}),u.firstName?Object(b.jsxs)("p",{className:"text-danger",children:["*",u.firstName.message," "]}):"",Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"lastName",className:"col-5 col-form-label",children:"Last Name: "}),Object(b.jsx)("input",{onChange:C,type:"text",className:"form-control",id:"lastName",name:"lastName",value:l.lastName})]}),u.lastName?Object(b.jsxs)("p",{className:"text-danger",children:["*",u.lastName.message," "]}):"",Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"department",className:"col-5 col-form-label",children:"Department: "}),Object(b.jsxs)("select",{onChange:C,name:"department",className:"form-select",value:l.department,children:[Object(b.jsx)("option",{value:"",children:"---"}),s.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})]}),u.department?Object(b.jsxs)("p",{className:"text-danger",children:["*",u.department.message," "]}):"",Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"email",className:"col-5 col-form-label",children:"Email: "}),Object(b.jsx)("input",{onChange:C,type:"email",name:"email",id:"email",className:"form-control",value:l.email})]}),u.email?Object(b.jsxs)("p",{className:"text-danger",children:["*",u.email.message," "]}):"",S[l.email]?Object(b.jsx)("p",{className:"text-danger",children:"*Email is already in use. "}):"",u.userExists?Object(b.jsxs)("p",{className:"text-danger",children:["*",u.userExists," "]}):"",Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"password",className:"col-5 col-form-label",children:"Password: "}),Object(b.jsx)("input",{onChange:C,type:"password",name:"password",id:"password",className:"form-control",value:l.password})]}),u.password?Object(b.jsxs)("p",{className:"text-danger",children:["*",u.password.message," "]}):"",Object(b.jsxs)("div",{className:"formDiv",children:[Object(b.jsx)("label",{htmlFor:"confirmPassword",className:"col-5 col-form-label",children:"Confirm Password: "}),Object(b.jsx)("input",{onChange:C,type:"password",name:"confirmPassword",id:"confirmPassword",className:"form-control",value:l.confirmPassword})]}),l.password!==l.confirmPassword&&l.confirmPassword.length>0?Object(b.jsx)("p",{className:"text-danger",children:"*Passwords must match."}):"",Object(b.jsxs)("div",{className:"formDiv justify-content-between",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"admin",className:"col-form-label me-2",children:"Admin?"}),Object(b.jsx)("input",{onChange:C,type:"checkbox",name:"admin",id:"admin",checked:l.admin})]}),Object(b.jsx)("input",{className:"button blue-button",type:"submit",value:"Register User"})]})]})]})})};var U=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)(!1),l=Object(r.a)(n,2),o=l[0],h=l[1],O=Object(a.useState)([]),x=Object(r.a)(O,2),p=x[0],f=x[1],g=["Accounting","Marketing","Operations","Sales"],w=["In Progress","Completed"],S=["Low","Medium","High","Urgent"];return Object(a.useEffect)((function(){d.a.get("http://localhost:8000/api/users/loggedInUser",{withCredentials:!0}).then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}),[o]),Object(a.useEffect)((function(){d.a.get("http://localhost:8000/api/users").then((function(e){f(Object(i.a)(e.data).sort((function(e,t){return e.firstName>t.firstName?1:-1})))})).catch((function(e){return console.log(e)}))}),[s]),Object(b.jsx)("div",{className:"App pt-3",children:Object(b.jsx)("div",{children:Object(b.jsxs)(m.a,{children:[Object(b.jsx)(u,{toggleUpdate:o,setToggleUpdate:h,loggedInUser:s,setLoggedInUser:c}),Object(b.jsx)("div",{className:"card mt-3 p-4",children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/",children:Object(b.jsx)(y,{toggleUpdate:o,setToggleUpdate:h})}),Object(b.jsx)(j.a,{exact:!0,path:"/home",children:s._id?Object(b.jsx)(N,{priorities:S,status:w,users:p,loggedInUser:s}):Object(b.jsx)(m.b,{className:"text-center",to:"/",children:"Please login to continue."})}),Object(b.jsx)(j.a,{exact:!0,path:"/tasks/new",children:s._id?Object(b.jsx)(k,{priorities:S,status:w,users:p,loggedInUser:s}):Object(b.jsx)(m.b,{className:"text-center",to:"/",children:"Please login to continue."})}),Object(b.jsx)(j.a,{exact:!0,path:"/tasks/:id/edit",children:s._id?Object(b.jsx)(C,{priorities:S,status:w,users:p,loggedInUser:s}):Object(b.jsx)(m.b,{className:"text-center",to:"/",children:"Please login to continue."})}),Object(b.jsx)(j.a,{exact:!0,path:"/tasks/:id",children:s._id?Object(b.jsx)(D,{loggedInUser:s}):Object(b.jsx)(m.b,{className:"text-center",to:"/",children:"Please login to continue."})}),Object(b.jsx)(j.a,{path:"/admin",children:s.admin?Object(b.jsx)(v,{departments:g,toggleUpdate:o,setToggleUpdate:h}):Object(b.jsx)("h4",{className:"text-center",children:"Must be an admin to access this page."})}),Object(b.jsx)(j.a,{path:"/secretlyRegister",children:Object(b.jsx)(T,{departments:g,toggleUpdate:o,setToggleUpdate:h})})]})})]})})})},P=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,66)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,l=t.getTTFB;s(e),a(e),c(e),n(e),l(e)}))};l.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(U,{})}),document.getElementById("root")),P()}},[[65,1,2]]]);
//# sourceMappingURL=main.5ca3160b.chunk.js.map